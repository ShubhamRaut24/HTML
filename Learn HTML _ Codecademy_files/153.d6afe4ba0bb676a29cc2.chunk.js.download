(window.__LOADABLE_LOADED_CHUNKS__=window.__LOADABLE_LOADED_CHUNKS__||[]).push([[153],{RoNi:function(e,t,n){"use strict";n.d(t,"a",(function(){return TerminalHeader}));var s=n("4xyh"),r=n("1Wj3"),i=n("q1tI"),a=n.n(i),o=n("KKCq"),l=n("qqJs"),c=n("ev85");const TerminalHeader=e=>{const t=[];if(e.isLoading)t.push(renderEmptyTab());else for(let n=0;n<e.sessions.length;n+=1)t.push(renderTerminalTab(e,n));return a.a.createElement(c.a,{theme:"terminal"},renderControlButton(e),t,renderFullscreenTab(e))},renderControlButton=e=>e.isBusy?a.a.createElement("div",{style:{width:48},className:"fcn-control"},a.a.createElement(o.a,null)):a.a.createElement(l.a,{key:"terminalTabNew",theme:"terminal",clickHandler:e.createNewTerminal,isDisabled:!e.canCreateSession,isControl:!0},a.a.createElement(s.a,null)),renderEmptyTab=()=>a.a.createElement(l.a,{isActive:!0,canClose:!1,theme:"terminal",key:"terminalTab-empty"}),renderFullscreenTab=e=>a.a.createElement(l.a,{key:"terminalTabFullscreen",clickHandler:e.toggleFullscreen,align:"right",theme:"terminal",isControl:!0},a.a.createElement(r.a,null)),renderTerminalTab=(e,t)=>{const n=e.sessions[t];return a.a.createElement(l.a,{key:`terminalTab${n.id}`,theme:"terminal",tabId:n.id,title:n.title,clickHandler:()=>{e.selectTerminalSession(t)},canClose:!0,closeHandler:()=>{e.closeTerminalSession(n.id)},isActive:e.currentSessionIndex===t})}},WFFW:function(e,t,n){"use strict";n.d(t,"a",(function(){return TerminalPlaceholder}));var s=n("FZcb"),r=n("q1tI"),i=n.n(r);const TerminalPlaceholder=({busy:e,hasCreatedSessionBefore:t,onClick:n})=>i.a.createElement("div",{className:"fcn-terminal-container__placeholder"},i.a.createElement("div",{className:"fcn-terminal-container__placeholder__body"},i.a.createElement("div",{className:"fcn-terminal-container__placeholder__icon fcn-icon fcn-icon-terminal"}),i.a.createElement("span",{className:"fcn-terminal-container__placeholder__text"},"Terminal"),t&&!e?i.a.createElement("span",{className:"fcn-terminal-container__placeholder__text"},i.a.createElement(s.a,{theme:"lantern",style:{marginTop:20},outline:!0,onClick:n},"New session")):null))},nYFV:function(e,t,n){"use strict";n.d(t,"a",(function(){return Terminal}));var s=n("rePB"),r=n("E+oP"),i=n.n(r),a=n("MKeS"),o=n("TSYQ"),l=n.n(o),c=n("q1tI"),h=n.n(c);const m=Object(a.a)({resolved:{},chunkName:()=>"private-FakeTerminal",isReady(e){const t=this.resolve(e);return!0===this.resolved[t]&&!!n.m[t]},importAsync:()=>Promise.all([n.e(518),n.e(491)]).then(n.bind(null,"B5px")),requireAsync(e){const t=this.resolve(e);return this.resolved[t]=!1,this.importAsync(e).then((e=>(this.resolved[t]=!0,e)))},requireSync(e){const t=this.resolve(e);return n(t)},resolve(){return"B5px"}}),u=Object(a.a)({resolved:{},chunkName:()=>"private-RealTerminal",isReady(e){const t=this.resolve(e);return!0===this.resolved[t]&&!!n.m[t]},importAsync:()=>Promise.all([n.e(450),n.e(447)]).then(n.bind(null,"hfsY")),requireAsync(e){const t=this.resolve(e);return this.resolved[t]=!1,this.importAsync(e).then((e=>(this.resolved[t]=!0,e)))},requireSync(e){const t=this.resolve(e);return n(t)},resolve(){return"hfsY"}},{ssr:!1});class Terminal extends h.a.Component{constructor(...e){super(...e),Object(s.a)(this,"state",{fake:!i()(this.props.fakeResponses),history:[]})}realTerminalText(){var e;return null===(e=this.refRealTerminal)||void 0===e?void 0:e.text()}realTerminalOutputsByCommands(){var e;return null===(e=this.refRealTerminal)||void 0===e?void 0:e.outputsByCommands()}resize(e){var t;null===(t=this.refRealTerminal)||void 0===t||t.resize(e)}render(){let e;const t=l()({"fcn-terminal":!0,"fcn-terminal--active":this.props.isActive});if(this.props.workspaceReady)if(this.state.fake)e=h.a.createElement(m,{history:this.state.history,fakeResponses:this.props.fakeResponses,handleRealResponse:this.props.handleRealResponse,checkpointRun:()=>this.props.checkpointRun(this.didRunCommand.bind(this))});else{const t=this.props,n=t.session,s=t.stream;e=h.a.createElement(u,{id:this.props.terminalId,session:n,stream:s,onFocus:this.props.onFocus,onBlur:this.props.onBlur,hasCheckWork:this.props.hasCheckWork,shouldPreventCheckpointsOnTerminalCommand:this.props.shouldPreventCheckpointsOnTerminalCommand,checkpointRun:()=>this.props.checkpointRun(this.didRunCommand.bind(this)),closeSession:this.props.closeSession,hasFocus:this.props.hasFocus,fontSize:this.props.fontSize,setFontSize:this.props.setFontSize,ref:e=>this.refRealTerminal=e,workspaceReady:this.props.workspaceReady})}else e=null;return h.a.createElement("div",{className:t},e)}didRunOneOf(e,t,n){for(const s of e)if(this.didRunCommand(s,t,n))return!0;return!1}didRunCommand(e,t,n){if(this.state.fake)return this.state.history.some((s=>{const r=e instanceof RegExp?e.test(s.input):e===s.input,i=!t||s.exitCode===t;let a=!0;return"string"==typeof n&&(a=s.output.search(n)>=0),r&&i&&a}));if(n){const t=this.realTerminalOutputsByCommands();return Object.keys(t).some((s=>{if(s.search(e)>=0){return t[s].join("\n").search(n)>=0}return!1}))}return this.realTerminalText().search(e)>=0}ranWithExitCode(e,t){return this.didRunCommand(e,t)}ranOneOfWithExitCode(e,t){return this.didRunOneOf(e,t)}ranWithOutput(e,t){return this.didRunCommand(e,void 0,t)}ranOneOfWithOutput(e,t){return this.didRunOneOf(e,void 0,t)}ranWithExitCodeAndOutput(e,t,n){return this.didRunCommand(e,t,n)}ranOneOfWithExitCodeAndOutput(e,t,n){return this.didRunOneOf(e,t,n)}}Object(s.a)(Terminal,"defaultProps",{isActive:!1})}}]);
//# sourceMappingURL=153.d6afe4ba0bb676a29cc2.chunk.js.map